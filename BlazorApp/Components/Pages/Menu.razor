@page "/menu"
@rendermode InteractiveServer
@inject AdminService AdminService
@inject CartService CartService

<div class="container mt-5">
    <h3 class="text-center mb-4"><i class="bi bi-cup-straw"></i> Our Menu</h3>

    @if (AdminService.GetMenuItems().Count == 0)
    {
        <div class="alert alert-warning text-center" role="alert">
            No menu items available.
        </div>
    }
    else
    {
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
            @foreach (var item in AdminService.GetMenuItems())
            {
                <div class="col">
                    <div class="card h-100 shadow-sm">
                        <div class="card-body text-center">
                            <h5 class="card-title">@item.Name</h5>
                            <p class="card-text fw-bold">$@item.Price</p>
                            <button class="btn btn-primary" @onclick="() => AddToCart(item)">
                                <i class="bi bi-cart-plus"></i> Add to Cart
                            </button>
                        </div>
                    </div>
                </div>
            }
        </div>
    }
</div>

@code {
    private void AddToCart(MenuItem item)
    {
        Console.WriteLine($"ðŸ›’ Added to cart: {item.Name}");
        CartService.AddToCart(item);
    }
}
